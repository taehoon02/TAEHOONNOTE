---
title: 블로그를 개발하면서 (1)
date: 2019-04-12
category: ['DAILY', 'ESSAY']
---

블로그를 처음 시작한 건 중학생 때였다. 기록을 남기고자 시작했던 것 같다. 네이버, 티스토리 블로그를 겪어봤고, Hexo, Hugo를 통해 블로그를 만들어 운영한 적도 있다. 하지만 앞으로는 이 블로그를 활용하여 내 실명을 걸고, 나만의 블로그를 만들어 가고자 한다.

## 블로그 개발

블로그를 개설할 때 고려했던 점은 다음과 같다.

1. 무료
2. 방대한 정보량
3. Markdown 지원
4. 콘텐츠 관리 용이

1번만 제외한다면 워드프레스를 선택할 수 있었지만, 무료가 아니라는 점이 나에겐 가장 컸다. 결국 나는 Gatsby를 선택했다.

그리고 Gatsby를 통해 블로그를 개발하면서 하고자 하는 정보를 찾다가 [이 글](https://blog.rhostem.com/posts/2019-01-12-blog-with-gatsby-contentful-circleci#fn-2)이 눈에 들어왔다. 이 블로그에서 다룬 정보를 빌려 아래를 작성하면 다음과 같다.

## GatsbyJS

GatsbyJS는 정적 페이지 제너레이터이다. GatsbyJS는 Reactjs를 기반으로 Gatsby CLI를 이용해서 GatsbyJS를 사용할 수 있다.
이 때 Gatsby CLI는 Webpack, Reactjs, React-route 등을 이미 포함하고 있어, 처음 시작하기에 간편했다.

## 콘텐츠 관리 시스템(CMS)

유명한 CMS로는 사용하기 편한 만큼 커스터마이징이 어려운 워드프레스가 있다. 하지만 나는 커스터마이징을 하고 싶었기 때문에 과감히 워드프레스를 제외했다.

결국 CMS는 Contentful을 사용하기로 했다. Gatsby에서 플러그인으로 제공하고 있고, 무료 플랜은 콘텐츠와 미디어를 합해서 5000개까지 업로드할 수 있어서 개인 블로그로 활용하기에는 충분하다고 생각했다.

## CI/CD 도구

블로그는 아래 상황에서 자동 배포가 되어야 한다.

1. master 브랜치에 커밋이 푸시되었을 때
2. 콘텐츠가 생성, 수정, 삭제되었을 때

자동 빌드 도구는 CircleCI를 사용하기로 했다. 다른 사이드 프로젝트를 하면서 사용해 봤는데 무료 플랜의 빌드 성능도 괜찮고 1달에 1000분까지의 빌드 시간을 제공하므로 역시 개인이 사용하기에는 문제가 없을 것이다.

CircleCI는 Github 계정으로 로그인 후 사용할 저장소를 선택하면 기본적인 웹훅 설정은 자동으로 해준다. 사용자는 설정 파일에 원하는 명령어를 추가하면 된다. CircleCI 설정 파일에 배포 프로세스를 추가하면 1번의 조건은 만족하게 된다.

그리고 2번을 만족하기 위해서는 CMS인 Contentful에서 웹훅 설정을 해야 한다. Contenful은 고맙게도 웹훅을 위한 전용 메뉴까지 제공하며 다양한 서비스를 위한 템플릿도 제공한다.

Contentful에서 CircleCI에 설정된 빌드를 실행하기 위해서는 웹훅 템플릿을 선택한 후 Git 저장소 이름, 서비스 접속 키 등 꼭 필요한 정보만 입력하면 된다. 이렇게 하면 콘텐츠 업데이트 시 웹사이트 자동 배포가 가능하다.

## 웹 서버

사실 AWS Lightsail의 우분투 인스턴스에 nginx 서버를 설치해서 배포하려고 했으나, 기본이 유료 플랜이라서 무료인 파이어베이스 호스팅으로 결정했다. 물론 속도에서 차이가 있겠지만, 블로그를 운영하면서 돈을 사용하고 싶지는 않았기 때문에 선택지가 없었다.

## 앞으로의 계획

일단 블로그를 완성할 계획이다. 블로그를 만드는 도중에 쓰는 글이다. 블로그가 언제 배포하게 될지 모르겠지만, 적어도 내가 원하는 퀄티리가 나왔을 때 배포할 것 같다. 계획은 올해 8월 혹은 올해 12월로 잡고 있다.

실명을 걸고 블로그를 운영하는 이유는 기록장으로 사용하고 싶어서랄까. 언제부터 '태훈'이라는 내 이름이 좋게 느껴지기 시작해서 다행인 것 같다.
